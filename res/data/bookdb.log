/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DELETE FROM BOOK_STOCK WHERE BISBN='978-7-302-33877-2'
INSERT INTO BOOK_STOCK VALUES('978-7-302-33877-2',14)
COMMIT
INSERT INTO SOLD_BOOK VALUES('978-7-302-33877-2',9,'2015-01-08','9:38:27',1)
COMMIT
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
alter table sold_book add column Scomment VARCHAR(128)
DROP TABLE SOLD_BOOK
CREATE TABLE sold_book\u000a(\u000a\u0009Bisbn CHAR(17),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* book ISBN */\u000a\u0009Cid INT,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the ID of this customer */\u000a\u0009Sdate DATE NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the sold date */\u000a\u0009Stime TIME NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the sold time */\u000a\u0009Snumber INT NOT NULL CHECK (Snumber > 0),\u0009\u0009\u0009\u0009/* the count of customer bought book */\u000a\u0009Stotal_price DECIMAL(10, 2) NOT NULL,\u000a\u0009Scomment VARCHAR(128),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the comments */\u000a\u0009primary key (Bisbn, Cid, Sdate, Stime),\u0009\u0009\u0009\u0009\u0009/* the primary key */\u000a\u0009FOREIGN KEY (Bisbn) REFERENCES book_info(Bisbn),\u0009\u0009/* use ISBN in book_info */\u000a\u0009FOREIGN KEY (Cid) REFERENCES customer_info(Cid)\u0009\u0009\u0009/* use ID in customer_info */\u000a)
drop table sold_book
/* sold book record */\u000aCREATE TABLE sold_book\u000a(\u000a\u0009Bisbn CHAR(17),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* book ISBN */\u000a\u0009Cid INT,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the ID of this customer */\u000a\u0009Sdate DATE NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the sold date */\u000a\u0009Stime TIME NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the sold time */\u000a\u0009Snumber INT NOT NULL CHECK (Snumber > 0),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the count of customer bought book */\u000a\u0009Stotal_price DECIMAL(10, 2) NOT NULL CHECK(Stotal_price > 0),\u0009\u0009\u0009\u0009/* total price of sold books for this customer */\u000a\u0009Scomment VARCHAR(128),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the comments */\u000a\u0009primary key (Bisbn, Cid, Sdate, Stime),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the primary key */\u000a\u0009FOREIGN KEY (Bisbn) REFERENCES book_info(Bisbn),\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* use ISBN in book_info */\u000a\u0009FOREIGN KEY (Cid) REFERENCES customer_info(Cid)\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* use ID in customer_info */\u000a)
/* create table of book information */\u000aCREATE TABLE book_list\u000a(\u000a\u0009Bisbn CHAR(17) PRIMARY KEY,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* ISBN of the book */\u000a\u0009Bname VARCHAR(128) NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* book name */\u000a\u0009Bversion VARCHAR(64),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* version message */\u000a\u0009Bauthors VARCHAR(128) NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* authors, if more than one, split with "," */\u000a\u0009Bcover VARCHAR(512),\u0009\u0009\u0009\u0009\u0009/* path of book cover image */\u000a\u0009Bdate DATE NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* published date */\u000a\u0009Bcategory VARCHAR(128),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* category, if more than one, split with "," */\u000a\u0009Bpublisher VARCHAR(128) NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009/* the publisher */\u000a\u0009Bprice DECIMAL(10, 2) NOT NULL CHECK (Bprice > 0.0),\u0009\u0009\u0009/* book price */\u000a\u0009Bintro VARCHAR(512)\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* a intro of the book */\u000a)
drop table book_list
CREATE TABLE book_list\u000a(\u000a\u0009Bisbn CHAR(17) PRIMARY KEY,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* ISBN of the book */\u000a\u0009Bname VARCHAR(128) NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* book name */\u000a\u0009Bversion VARCHAR(64),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* version message */\u000a\u0009Bauthors VARCHAR(128) NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* authors, if more than one, split with "," */\u000a\u0009Bcover VARCHAR(512),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* path of cover image */\u000a\u0009Bdate DATE NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* published date */\u000a\u0009Bcategory VARCHAR(128),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* category, if more than one, split with "," */\u000a\u0009Bpublisher VARCHAR(128) NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the publisher */\u000a\u0009Bprice DECIMAL(10, 2) NOT NULL CHECK (Bprice > 0.0),\u0009\u0009\u0009/* book price */\u000a\u0009Bintro VARCHAR(512)\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* a intro of the book */\u000a)
INSERT INTO BOOK_LIST VALUES('978-7-04-019583-5','\u6570\u636e\u5e93\u7cfb\u7edf\u6982\u8bba','\u7b2c4\u7248','\u738b\u73ca,\u8428\u5e08\u714a',NULL,'2006-05-01','\u6559\u6750','\u9ad8\u7b49\u6559\u80b2\u51fa\u7248\u793e',39.00,'\u6570\u636e\u5e93\u6982\u8bba\u7b2c 4 \u7248')
INSERT INTO BOOK_LIST VALUES('978-7-115-28931-5','Android\u79fb\u52a8\u5e94\u7528\u5f00\u53d1\uff1a\u5377\u4e00\uff0c\u57fa\u7840\u7bc7','\u7b2c3\u7248','Lauren Darcey,Shane Conder',NULL,'2012-10-01','\u79fb\u52a8\u5f00\u53d1','\u4eba\u6c11\u90ae\u7535\u51fa\u7248\u793e',59.00,'Android \u79fb\u52a8\u5f00\u53d1')
INSERT INTO BOOK_LIST VALUES('978-7-302-33877-2','Linux \u7cfb\u7edf\u7ba1\u7406\u6982\u8bba','','\u9a6c\u5b8f\u7433,\u960e\u78ca',NULL,'2013-09-07','\u8ba1\u7b97\u673a','\u6e05\u534e\u5927\u5b66\u51fa\u7248\u793e',29.50,'\u672c\u4e66\u5168\u9762\u4ecb\u7ecd\u4e86 Linux  \u64cd\u4f5c\u7cfb\u7edf\u7684\u7ba1\u7406\u65b9\u6cd5\u2026\u2026')
INSERT INTO BOOK_LIST VALUES('978-7-5341-2436-5','C \u8bed\u8a00\u7a0b\u5e8f\u8bbe\u8ba1','','\u4f55\u94a6\u94ed,\u989c\u6656',NULL,'2007-02-07','\u7a0b\u5e8f\u8bbe\u8ba1,\u6559\u6750','\u6d59\u6c5f\u79d1\u5b66\u6280\u672f\u51fa\u7248\u793e',28.80,'')
INSERT INTO BOOK_LIST VALUES('978-7-789-11147-4','\u79cb\u88e4\u96c6','\u7b2c\u4e00\u7248','\u79cb\u88e4\u5148\u751f',NULL,'2014-10-06','\u7f51\u7edc\u6587\u5b66','\u7f51\u7edc\u6587\u5b66\u51fa\u7248\u793e',25.25,'\u4e0d\u4e00\u6837\u7684\u79cb\u88e4')
COMMIT
CREATE TABLE customer_list\u000a(\u000a\u0009Cid INT PRIMARY KEY CHECK (Cid > 0),\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* customer ID, begin from 1 */\u000a\u0009Cname VARCHAR(64) NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* customer name */\u000a\u0009Cphone VARCHAR(16),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* cell-phone count */\u000a\u0009Cemail VARCHAR(48),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* email */\u000a\u0009Clevel SMALLINT NOT NULL CHECK (Clevel >= 0),\u0009\u0009\u0009\u0009\u0009/* customer level */\u000a\u0009Climit SMALLINT NOT NULL CHECK (Climit >= 0)\u0009\u0009\u0009\u0009\u0009/* max number of book that customer can borrowed each time */\u000a)
drop table book_list
CREATE TABLE book_list\u000a(\u000a\u0009Bisbn CHAR(17) PRIMARY KEY,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* ISBN of the book */\u000a\u0009Bname VARCHAR(128) NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* book name */\u000a\u0009Bversion VARCHAR(64),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* version message */\u000a\u0009Bauthors VARCHAR(128) NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* authors, if more than one, split with "," */\u000a\u0009Bcover VARCHAR(512),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* path of cover image */\u000a\u0009Bdate DATE NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* published date */\u000a\u0009Bcategory VARCHAR(128),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* category, if more than one, split with "," */\u000a\u0009Bpublisher VARCHAR(128) NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the publisher */\u000a\u0009Bprice DECIMAL(10, 2) NOT NULL CHECK (Bprice >= 0.0),\u0009\u0009\u0009/* book price */\u000a\u0009Bintro VARCHAR(512)\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* a intro of the book */\u000a)
INSERT INTO BOOK_LIST VALUES('978-7-04-019583-5','\u6570\u636e\u5e93\u7cfb\u7edf\u6982\u8bba','\u7b2c4\u7248','\u738b\u73ca,\u8428\u5e08\u714a',NULL,'2006-05-01','\u6559\u6750','\u9ad8\u7b49\u6559\u80b2\u51fa\u7248\u793e',39.00,'\u6570\u636e\u5e93\u6982\u8bba\u7b2c 4 \u7248')
INSERT INTO BOOK_LIST VALUES('978-7-115-28931-5','Android\u79fb\u52a8\u5e94\u7528\u5f00\u53d1\uff1a\u5377\u4e00\uff0c\u57fa\u7840\u7bc7','\u7b2c3\u7248','Lauren Darcey,Shane Conder',NULL,'2012-10-01','\u79fb\u52a8\u5f00\u53d1','\u4eba\u6c11\u90ae\u7535\u51fa\u7248\u793e',59.00,'Android \u79fb\u52a8\u5f00\u53d1')
INSERT INTO BOOK_LIST VALUES('978-7-302-33877-2','Linux \u7cfb\u7edf\u7ba1\u7406\u6982\u8bba','','\u9a6c\u5b8f\u7433,\u960e\u78ca',NULL,'2013-09-07','\u8ba1\u7b97\u673a','\u6e05\u534e\u5927\u5b66\u51fa\u7248\u793e',29.50,'\u672c\u4e66\u5168\u9762\u4ecb\u7ecd\u4e86 Linux  \u64cd\u4f5c\u7cfb\u7edf\u7684\u7ba1\u7406\u65b9\u6cd5\u2026\u2026')
INSERT INTO BOOK_LIST VALUES('978-7-5341-2436-5','C \u8bed\u8a00\u7a0b\u5e8f\u8bbe\u8ba1','','\u4f55\u94a6\u94ed,\u989c\u6656',NULL,'2007-02-07','\u7a0b\u5e8f\u8bbe\u8ba1,\u6559\u6750','\u6d59\u6c5f\u79d1\u5b66\u6280\u672f\u51fa\u7248\u793e',28.80,'')
INSERT INTO BOOK_LIST VALUES('978-7-789-11147-4','\u79cb\u88e4\u96c6','\u7b2c\u4e00\u7248','\u79cb\u88e4\u5148\u751f',NULL,'2014-10-06','\u7f51\u7edc\u6587\u5b66','\u7f51\u7edc\u6587\u5b66\u51fa\u7248\u793e',25.25,'\u4e0d\u4e00\u6837\u7684\u79cb\u88e4')
COMMIT
INSERT INTO CUSTOMER_LIST VALUES(1,'\u674e\u660e','13878541125     ','liming@gmail.com',2,14)
INSERT INTO CUSTOMER_LIST VALUES(2,'\u9648\u4eae','13788956945     ','chenlinag@gmail.com',1,11)
INSERT INTO CUSTOMER_LIST VALUES(3,'\u5f20\u4e09','15539845612     ','zhangsan@gmail.com',0,10)
INSERT INTO CUSTOMER_LIST VALUES(4,'\u674e\u56db','18677722631     ','lisi@gmail.com',0,10)
INSERT INTO CUSTOMER_LIST VALUES(7,'\u5f20\u4e9a\u9e4f','15677894562     ','zyp@12.com',0,9)
INSERT INTO CUSTOMER_LIST VALUES(8,'\u738b\u6587\u4e18','18677769123     ','qk@125.com',0,10)
INSERT INTO CUSTOMER_LIST VALUES(9,'\u5218\u963f\u6597','12512525777     ','lad@125.com',0,10)
INSERT INTO CUSTOMER_LIST VALUES(10,'\u66fe\u9503','15645677896     ','zz@125.com',1,13)
INSERT INTO CUSTOMER_LIST VALUES(11,'\u9646\u65b9','15617707979     ','lufa@123.com',0,10)
INSERT INTO CUSTOMER_LIST VALUES(12,'\u9648\u660e','13213150950     ','15939723892@139.com',0,10)
INSERT INTO CUSTOMER_LIST VALUES(13,'\u6bb5\u5e05\u9633','15290568299     ','',0,10)
INSERT INTO CUSTOMER_LIST VALUES(14,'\u8d3e\u68ee','18039289829     ','',0,10)
INSERT INTO CUSTOMER_LIST VALUES(15,'\u738b\u73c2','13592679475     ','wonka80@163.com',0,10)
INSERT INTO CUSTOMER_LIST VALUES(16,'\u5434\u52c7','18623716973     ','',0,10)
INSERT INTO CUSTOMER_LIST VALUES(17,'\u5149\u4ed4','13253595712     ','',0,10)
INSERT INTO CUSTOMER_LIST VALUES(18,'\u5f90\u632f\u5f3a','13939066783     ','xzqzty@gmail.com',0,10)
INSERT INTO CUSTOMER_LIST VALUES(19,'\u53f6\u7acb\u521a','18623717518     ','alexylg2@126.com',0,9)
COMMIT
alter table book_stock rename to book_stock1
CREATE TABLE book_stock\u000a(\u000a\u0009Bisbn CHAR(17) PRIMARY KEY,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* book ISBN */\u000a\u0009Enumber INT NOT NULL CHECK (Enumber >= 0),\u0009\u0009\u0009\u0009\u0009\u0009/* existing book count */\u000a\u0009FOREIGN KEY (Bisbn) REFERENCES book_list(Bisbn)\u0009\u0009\u0009\u0009\u0009/* use ISBN in book_list */\u000a)
INSERT INTO BOOK_STOCK VALUES('978-7-04-019583-5',2)
INSERT INTO BOOK_STOCK VALUES('978-7-115-28931-5',21)
INSERT INTO BOOK_STOCK VALUES('978-7-302-33877-2',14)
INSERT INTO BOOK_STOCK VALUES('978-7-5341-2436-5',29)
INSERT INTO BOOK_STOCK VALUES('978-7-789-11147-4',0)
COMMIT
drop table book_stock1
CREATE TABLE sale_list\u000a(\u000a\u0009Bisbn CHAR(17) NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* book ISBN */\u000a\u0009Cid INT NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the ID of this customer */\u000a\u0009Sdate DATE NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the sold date */\u000a\u0009Stime TIME NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the sold time */\u000a\u0009Snumber INT NOT NULL CHECK (Snumber > 0),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the count of customer bought book */\u000a\u0009Stotal_price DECIMAL(10, 2) NOT NULL CHECK(Stotal_price >= 0),\u0009\u0009\u0009\u0009/* total price of sold books for this customer */\u000a\u0009Scomment VARCHAR(128),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the comments */\u000a\u0009PRIMARY KEY (Bisbn, Cid, Sdate, Stime),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the primary key */\u000a\u0009FOREIGN KEY (Bisbn) REFERENCES book_list(Bisbn),\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* use ISBN in book_list */\u000a\u0009FOREIGN KEY (Cid) REFERENCES customer_list(Cid)\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* use ID in customer_list */\u000a)
alter table sale_list alter column stotal_price rename to stotal
CREATE TABLE rental_list\u000a(\u000a\u0009Bisbn CHAR(17) NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* book ISBN */\u000a\u0009Cid INT NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the ID of this customer */\u000a\u0009Rdate DATE NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the date when lend the book */\u000a\u0009Rtime TIME NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the time when lend the book */\u000a\u0009Rnumber INT NOT NULL CHECK (Rnumber > 0),\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the count of customer borrowed book */\u000a\u0009Rperiod SMALLINT NOT NULL CHECK (Rperiod > 0),\u0009\u0009\u0009\u0009\u0009\u0009/* the days of customer borrowed book */\u000a\u0009Rtotal DECIMAL(10, 2) NOT NULL CHECK (Rtotal >= 0),\u0009\u0009\u0009\u0009\u0009/* total price of those book */\u000a\u0009PRIMARY KEY (Bisbn, Cid, Rdate),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the primary key */\u000a\u0009FOREIGN KEY (Bisbn) REFERENCES book_list(Bisbn),\u0009\u0009\u0009\u0009\u0009/* use ISBN in book_list */\u000a\u0009FOREIGN KEY (Cid) REFERENCES customer_list(Cid)\u0009\u0009\u0009\u0009\u0009\u0009/* use ID in customer_list */\u000a)
INSERT INTO RENTAL_LIST VALUES('978-7-04-019583-5',1,'2014-12-14','22:10:59',1,12,0.00)
INSERT INTO RENTAL_LIST VALUES('978-7-04-019583-5',2,'2014-12-14','22:10:59',1,12,0.00)
INSERT INTO RENTAL_LIST VALUES('978-7-04-019583-5',2,'2014-12-24','22:10:59',1,12,0.00)
INSERT INTO RENTAL_LIST VALUES('978-7-04-019583-5',7,'2015-01-07','18:43:10',1,1,0.00)
INSERT INTO RENTAL_LIST VALUES('978-7-115-28931-5',1,'2015-01-07','18:45:10',1,1,0.00)
INSERT INTO RENTAL_LIST VALUES('978-7-115-28931-5',2,'2015-01-07','16:13:56',2,5,0.00)
INSERT INTO RENTAL_LIST VALUES('978-7-5341-2436-5',19,'2015-01-07','21:36:27',1,3,0.00)
INSERT INTO RENTAL_LIST VALUES('978-7-789-11147-4',4,'2015-01-07','16:13:27',1,1,0.00)
INSERT INTO RENTAL_LIST VALUES('978-7-789-11147-4',7,'2015-01-07','16:12:46',2,5,0.00)
COMMIT
drop table sold_book
drop table lent_book
drop table customer_info
drop table book_info
alter table book_stock rename to stock_list
drop table sale_list
drop table stock_list
drop table rental_list
alter table book_list rename to book
alter table customer_list rename to customer
\u000a/* create table of book stock */\u000aCREATE TABLE stock\u000a(\u000a\u0009Bisbn CHAR(17) PRIMARY KEY,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* book ISBN */\u000a\u0009Inumber INT NOT NULL CHECK (Inumber >= 0),\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* inventory number */\u000a\u0009FOREIGN KEY (Bisbn) REFERENCES book(Bisbn)\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* use ISBN in book */\u000a)
\u000a/* create table of sale list */\u000aCREATE TABLE sale\u000a(\u000a\u0009Bisbn CHAR(17) NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* book ISBN */\u000a\u0009Cid INT NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the ID of this customer */\u000a\u0009Sdate DATE NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the sold date */\u000a\u0009Stime TIME NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the sold time */\u000a\u0009Snumber INT NOT NULL CHECK (Snumber > 0),\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the count of customer bought book */\u000a\u0009Stotal DECIMAL(10, 2) NOT NULL CHECK (Stotal >= 0),\u0009\u0009\u0009\u0009\u0009/* total price of those book */\u000a\u0009Scomment VARCHAR(128),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the comments */\u000a\u0009PRIMARY KEY (Bisbn, Cid, Sdate, Stime),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the primary key */\u000a\u0009FOREIGN KEY (Bisbn) REFERENCES book(Bisbn),\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* use ISBN in book */\u000a\u0009FOREIGN KEY (Cid) REFERENCES customer(Cid)\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* use ID in customer */\u000a)
CREATE TABLE rental\u000a(\u000a\u0009Bisbn CHAR(17) NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* book ISBN */\u000a\u0009Cid INT NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the ID of this customer */\u000a\u0009Rdate DATE NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the date when lend the book */\u000a\u0009Rtime TIME NOT NULL,\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the time when lend the book */\u000a\u0009Rnumber INT NOT NULL CHECK (Rnumber > 0),\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the count of customer borrowed book */\u000a\u0009Rperiod SMALLINT NOT NULL CHECK (Rperiod > 0),\u0009\u0009\u0009\u0009\u0009\u0009/* the days of customer borrowed book */\u000a\u0009Rtotal DECIMAL(10, 2) NOT NULL CHECK (Rtotal >= 0),\u0009\u0009\u0009\u0009\u0009/* total price of those book */\u000a\u0009Rcomment VARCHAR(128),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the comments */\u000a\u0009PRIMARY KEY (Bisbn, Cid, Rdate),\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* the primary key */\u000a\u0009FOREIGN KEY (Bisbn) REFERENCES book(Bisbn),\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* use ISBN in book */\u000a\u0009FOREIGN KEY (Cid) REFERENCES customer(Cid)\u0009\u0009\u0009\u0009\u0009\u0009\u0009/* use ID in customer */\u000a)
INSERT INTO STOCK VALUES('978-7-04-019583-5',10)
COMMIT
INSERT INTO STOCK VALUES('978-7-115-28931-5',30)
COMMIT
INSERT INTO SALE VALUES('978-7-04-019583-5',1,'2015-01-03','18:36:00',1,28.00,'\u5356\u51fa\u7684\u7b2c\u4e00\u672c\u4e66')
COMMIT
INSERT INTO RENTAL VALUES('978-7-04-019583-5',2,'2014-12-14','22:10:59',1,12,1.00,'\u501f\u51fa\u7684\u7b2c\u4e00\u672c')
COMMIT
INSERT INTO RENTAL VALUES('978-7-04-019583-5',1,'2014-12-15','22:10:59',1,12,5.00,'')
COMMIT
INSERT INTO RENTAL VALUES('978-7-04-019583-5',2,'2014-12-16','22:10:59',1,12,5.00,'')
COMMIT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/create table test\u000a(\u000a\u0009value decimal(10, 2)\u000a)
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
INSERT INTO TEST VALUES(25.33)
COMMIT
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
INSERT INTO TEST VALUES(25.33)
COMMIT
DISCONNECT
/*C6*/DELETE FROM TEST WHERE VALUE=25.33
DELETE FROM TEST WHERE VALUE=25.33
COMMIT
/*C23*/SET SCHEMA PUBLIC
INSERT INTO TEST VALUES(25.33)
COMMIT
DISCONNECT
/*C24*/SET SCHEMA PUBLIC
DISCONNECT
/*C25*/SET SCHEMA PUBLIC
DISCONNECT
/*C26*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C27*/SET SCHEMA PUBLIC
DISCONNECT
/*C28*/SET SCHEMA PUBLIC
DISCONNECT
/*C29*/SET SCHEMA PUBLIC
DISCONNECT
/*C30*/SET SCHEMA PUBLIC
DELETE FROM STOCK WHERE BISBN='978-7-115-28931-5'
INSERT INTO STOCK VALUES('978-7-115-28931-5',29)
COMMIT
DISCONNECT
/*C31*/SET SCHEMA PUBLIC
DELETE FROM STOCK WHERE BISBN='978-7-115-28931-5'
INSERT INTO STOCK VALUES('978-7-115-28931-5',28)
COMMIT
INSERT INTO RENTAL VALUES('978-7-115-28931-5',13,'2015-01-08','14:16:46',1,1,0.00,'\u8001\u5ba2\u6237\u6ca1\u6536\u94b1')
COMMIT
DELETE FROM CUSTOMER WHERE CID=13
INSERT INTO CUSTOMER VALUES(13,'\u6bb5\u5e05\u9633','15290568299     ','',0,9)
COMMIT
DELETE FROM STOCK WHERE BISBN='978-7-04-019583-5'
INSERT INTO STOCK VALUES('978-7-04-019583-5',9)
COMMIT
INSERT INTO RENTAL VALUES('978-7-04-019583-5',1,'2015-01-08','14:19:10',1,6,6.00,'\u674e\u660e\u7b2c\u4e00\u6b21\u501f\u4e66')
COMMIT
DELETE FROM CUSTOMER WHERE CID=1
INSERT INTO CUSTOMER VALUES(1,'\u674e\u660e','13878541125     ','liming@gmail.com',2,13)
COMMIT
DELETE FROM STOCK WHERE BISBN='978-7-115-28931-5'
INSERT INTO STOCK VALUES('978-7-115-28931-5',27)
COMMIT
INSERT INTO RENTAL VALUES('978-7-115-28931-5',1,'2015-01-08','14:19:45',1,1,0.00,'')
COMMIT
DELETE FROM CUSTOMER WHERE CID=1
INSERT INTO CUSTOMER VALUES(1,'\u674e\u660e','13878541125     ','liming@gmail.com',2,12)
COMMIT
DELETE FROM STOCK WHERE BISBN='978-7-115-28931-5'
INSERT INTO STOCK VALUES('978-7-115-28931-5',18)
COMMIT
INSERT INTO RENTAL VALUES('978-7-115-28931-5',7,'2015-01-08','14:20:16',9,1,0.00,'')
COMMIT
DELETE FROM CUSTOMER WHERE CID=7
INSERT INTO CUSTOMER VALUES(7,'\u5f20\u4e9a\u9e4f','15677894562     ','zyp@12.com',0,0)
COMMIT
DISCONNECT
/*C32*/SET SCHEMA PUBLIC
DISCONNECT
/*C33*/SET SCHEMA PUBLIC
DISCONNECT
/*C34*/SET SCHEMA PUBLIC
DISCONNECT
/*C35*/SET SCHEMA PUBLIC
DISCONNECT
/*C36*/SET SCHEMA PUBLIC
DELETE FROM STOCK WHERE BISBN='978-7-115-28931-5'
INSERT INTO STOCK VALUES('978-7-115-28931-5',16)
COMMIT
DISCONNECT
/*C37*/SET SCHEMA PUBLIC
DELETE FROM STOCK WHERE BISBN='978-7-115-28931-5'
INSERT INTO STOCK VALUES('978-7-115-28931-5',14)
COMMIT
INSERT INTO SALE VALUES('978-7-115-28931-5',7,'2015-01-08','14:44:12',2,25.00,'')
COMMIT
DELETE FROM CUSTOMER WHERE CID=7
INSERT INTO CUSTOMER VALUES(7,'\u5f20\u4e9a\u9e4f','15677894562     ','zyp@12.com',5000,0)
COMMIT
DELETE FROM CUSTOMER WHERE CID=7
INSERT INTO CUSTOMER VALUES(7,'\u5f20\u4e9a\u9e4f','15677894562     ','zyp@12.com',5000,2500)
COMMIT
DISCONNECT
/*C38*/SET SCHEMA PUBLIC
DELETE FROM STOCK WHERE BISBN='978-7-115-28931-5'
INSERT INTO STOCK VALUES('978-7-115-28931-5',13)
COMMIT
INSERT INTO SALE VALUES('978-7-115-28931-5',8,'2015-01-08','14:48:40',1,20.00,'')
COMMIT
DISCONNECT
/*C39*/SET SCHEMA PUBLIC
DELETE FROM STOCK WHERE BISBN='978-7-115-28931-5'
INSERT INTO STOCK VALUES('978-7-115-28931-5',11)
COMMIT
INSERT INTO SALE VALUES('978-7-115-28931-5',4,'2015-01-08','14:49:19',2,25.00,'')
COMMIT
DISCONNECT
/*C40*/SET SCHEMA PUBLIC
DISCONNECT
/*C42*/SET SCHEMA PUBLIC
INSERT INTO STOCK VALUES('978-7-789-11147-4',100)
COMMIT
DISCONNECT
/*C43*/SET SCHEMA PUBLIC
DISCONNECT
/*C41*/SET SCHEMA PUBLIC
DISCONNECT
/*C44*/SET SCHEMA PUBLIC
DISCONNECT
/*C45*/SET SCHEMA PUBLIC
DISCONNECT
/*C46*/SET SCHEMA PUBLIC
DISCONNECT
/*C47*/SET SCHEMA PUBLIC
DISCONNECT
/*C48*/SET SCHEMA PUBLIC
DISCONNECT
